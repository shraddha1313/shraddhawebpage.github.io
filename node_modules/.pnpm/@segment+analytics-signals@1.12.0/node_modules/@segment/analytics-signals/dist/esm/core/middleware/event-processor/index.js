import { SignalEventProcessor } from '../../processor/processor';
import { Sandbox, SandboxSettings } from '../../processor/sandbox';
export class SignalsEventProcessorSubscriber {
    load(ctx) {
        this.buffer = ctx.buffer;
        this.processor = new SignalEventProcessor(ctx.analyticsInstance, new Sandbox(new SandboxSettings(ctx.unstableGlobalSettings.sandbox)));
    }
    async process(signal) {
        return this.processor.process(signal, await this.buffer.getAll());
    }
}
//# sourceMappingURL=index.js.map